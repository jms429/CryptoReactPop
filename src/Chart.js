import React,{useState, useEffect} from 'react'
import {Line} from 'react-chartjs-2'


const Chart = (props) => {
    const [ chartData, setChartData ] = useState({})
    let dataList2 = [70.90372051573515,71.05093467317809,71.86157231238307,70.01703290136992,73.1246379928652,70.76528364424213,71.85331128542995,70.59765321671802,70.56243267805611,65.69813939859137,65.68116417892054,62.93368279679289,62.176209682916586,62.53855740380628,58.272666830840826,57.90209625592431,61.76231525745579,63.254523245925945,62.80259560269431,62.88365124146916,62.61731001357516,60.97114723225918,59.88620394070593,56.287488372820924,56.469902431357625,57.64486248691738,59.5924383440657,59.500553566132915,59.75956283877986,61.82411515191268,61.99074715587457,61.98740956837229,61.36627869441447,60.500127445316,59.84901013002208,58.97089758356632,58.07358352677344,59.06740443836122,59.36505828781501,59.80633501099949,60.01171976492458,59.55114229401986,59.35730774811399,61.88905457988818,60.217668668268374,59.59772948842702,59.92823627293141,59.61690312984014,59.158794569526655,57.75042695288391,56.06227929226962,53.58995853293396,52.59138121049399,54.19143934383266,52.568314709585685,47.526111660039646,49.16329267953714,48.75461689366617,47.44389803052009,44.94681954705573,45.24501136372377,45.437703304892274,46.56944707157126,48.06240350365336,52.149433748168214,50.902571523094046,53.82298342004832,51.47061125547601,50.02533895747124,50.61604569243846,51.08485936872045,49.943833350575055,51.478574944269624,53.24761025334674,55.57729974800626,55.97357695055928,54.019102202524515,54.39980749335061,59.625365029707645,61.6736290766992,60.39838076146885,60.24631320332777,61.32376815695743,59.96199069079096,60.98999021275162,62.856012526233464,67.7561978434044,68.48513273614546,72.3993265501276,71.43575151802162,79.13091687692305,79.30476296072636,78.22057394529169,75.14643970560299,74.7256910930895,77.17769700262951,76.30829619213233,80.19271300191427,79.22960911201874,76.39812658180536,77.22803612538975,73.32746563289884,72.414689457871,75.59194070309958,77.20328642539464,76.06499426824796,76.906058279374,78.88293503541169,76.77826772579061,77.86319054717573,74.7044083833136,75.83234916845412,78.09812665841925,79.09720967090676,78.48984397044322,77.19953662266913,79.01451153013973,78.9631353545932,79.86127039042036,79.50229446941084,79.65576015029116,81.88134459393075,82.06999860111766,79.85680518072293,79.774247598348,77.51981952104137,78.54495724422605,79.95858755232055,75.36033996493421,76.3942479169927,76.44607345856281,74.32829396494955,76.65925155529145,76.42370593534316,76.92012027454959,77.59085215946902,77.50057216067981,78.08899540786173,79.65176037641962,77.29478344126896,74.19051561584023,72.33763114988791,73.10676942918624,74.13244755121646,75.26907293945337,75.47748062450684,74.1421465091892,76.14142383873926,77.62255224168233,77.17141842692605,77.96974330667221,76.1626566596428,77.07028974481248,76.83403108818936,75.75945938803093,74.05551140923724,74.96240072014763,74.79649680856586,74.17024640065345,73.20677103865525,75.49197317178337,74.89993829585356,74.53868627980235,74.03074866329145,76.3685646450633,76.68329530238783,78.40619752440402,75.18763679841287]
    let dataList = props.datablock
    let datalen = []
    let datalen2 = []
    
    dataList.forEach(element => {
        datalen.push('over 7 days');
    });

    dataList2.forEach(element => {
        datalen2.push('over 7 days');
    });

    const chart = () => {
        setChartData({
            labels: datalen,
            datasets: [
                {
                    label: 'Price',
                    data: dataList,
                    backgroundColor: [
                        '#fff'
                    ],
                    borderWidth: 2,
                    borderColor: '#3559DD'
                },   
                {
                    label: 'Popularity',
                    data: dataList2,
                    backgroundColor: [
                        '#fff'
                    ],
                    borderWidth: 2,
                    borderColor: '#F36719'
                }
           ]
        })
    }
    useEffect(() =>{
        chart()
    }, [])

    return (
        <div>
            <Line data={chartData} options={{
                responsive: true,
                scales: {
                    x: {
                        display: false
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                },
                elements: {
                    point:{
                      radius: 0
                    }
                  }
            }}/>
        </div>
    )
}

export default Chart
